<%= form_with(model: [:admin, item], class: "space-y-6") do |f| %>
  <% if item.errors.any? %>
    <div class="bg-red-50 border border-red-200 rounded-xl p-4">
      <p class="font-heading font-semibold text-red-700 text-sm mb-2"><%= item.errors.count %> loi:</p>
      <ul class="list-disc pl-5 space-y-1">
        <% item.errors.full_messages.each do |msg| %>
          <li class="font-body text-sm text-red-600"><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="bg-white rounded-2xl p-6 shadow-md space-y-5">
    <!-- Emoji + Label row -->
    <div class="grid grid-cols-4 gap-4">
      <div>
        <label class="block font-heading font-semibold text-sm text-gray-700 mb-2">Emoji</label>
        <%= f.text_field :emoji, class: "w-full px-4 py-3 rounded-xl border border-gray-200 font-body text-2xl text-center focus:outline-none focus:border-gray-400 transition-colors", placeholder: "ðŸŽ‰" %>
      </div>
      <div class="col-span-3">
        <label class="block font-heading font-semibold text-sm text-gray-700 mb-2">Noi dung</label>
        <%= f.text_field :label, class: "w-full px-4 py-3 rounded-xl border border-gray-200 font-body focus:outline-none focus:border-gray-400 transition-colors", placeholder: "Vi du: Rua bat 1 bua" %>
      </div>
    </div>

    <!-- Category -->
    <div>
      <label class="block font-heading font-semibold text-sm text-gray-700 mb-2">Loai</label>
      <%= f.select :category, SpinWheelItem::CATEGORY_LABELS.map { |k, v| [v, k] }, {}, class: "w-full px-4 py-3 rounded-xl border border-gray-200 font-body focus:outline-none focus:border-gray-400 transition-colors" %>
    </div>

    <!-- Color -->
    <div>
      <label class="block font-heading font-semibold text-sm text-gray-700 mb-2">Mau sac</label>
      <div class="flex items-center gap-3">
        <%= f.color_field :color, class: "w-12 h-12 rounded-xl border-0 cursor-pointer", style: "padding:0;" %>
        <%= f.text_field :color, class: "flex-1 px-4 py-3 rounded-xl border border-gray-200 font-body text-sm focus:outline-none focus:border-gray-400 transition-colors", placeholder: "#C1DDD8" %>
      </div>
    </div>

    <!-- Active + Position -->
    <div class="grid grid-cols-2 gap-4">
      <div>
        <label class="block font-heading font-semibold text-sm text-gray-700 mb-2">Trang thai</label>
        <label class="flex items-center gap-3 cursor-pointer">
          <%= f.check_box :active, class: "w-5 h-5 rounded cursor-pointer" %>
          <span class="font-body text-sm text-gray-600">Hien thi tren vong quay</span>
        </label>
      </div>
      <div>
        <label class="block font-heading font-semibold text-sm text-gray-700 mb-2">Thu tu</label>
        <%= f.number_field :position, class: "w-full px-4 py-3 rounded-xl border border-gray-200 font-body focus:outline-none focus:border-gray-400 transition-colors", min: 0 %>
      </div>
    </div>
  </div>

  <!-- Actions -->
  <div class="flex items-center gap-3">
    <%= f.submit item.persisted? ? "Cap nhat" : "Tao moi", class: "px-6 py-3 rounded-xl font-heading font-semibold text-white shadow-lg transition-all hover:shadow-xl hover:scale-105 cursor-pointer", style: "background: linear-gradient(135deg, #C1DDD8, #A8CEC8);" %>
    <%= link_to "Huy", admin_spin_wheel_items_path, class: "px-6 py-3 rounded-xl font-heading font-semibold text-gray-600 transition-all hover:bg-gray-100", style: "background:rgba(243,244,246,0.8);" %>
  </div>
<% end %>
